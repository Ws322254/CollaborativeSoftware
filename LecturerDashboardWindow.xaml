<Window x:Class="WpfApp2.LecturerDashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:WpfApp2.Converters"
    Title="Quiz Platform - Lecturer Dashboard" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#1a1a2e"
        Loaded="Window_Loaded">
    <Window.Resources>
        <conv:ApprovedConverter x:Key="ApprovedConverter" />
    </Window.Resources>
    <Grid>
    <StackPanel Orientation="Vertical" Margin="20">
        <TextBlock Text="👨‍🏫 Lecturer Dashboard" FontSize="36" FontWeight="Bold" Foreground="#8b3dff" Margin="0,0,0,20"/>

   <!-- Statistics Row -->
    <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
     <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
     <StackPanel VerticalAlignment="Center">
          <TextBlock Text="Pending Approvals" FontSize="14" Foreground="#888888"/>
              <TextBlock x:Name="PendingApprovalsBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#ffc107"/>
     </StackPanel>
    </Border>

          <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
         <StackPanel VerticalAlignment="Center">
          <TextBlock Text="Total Students" FontSize="14" Foreground="#888888"/>
  <TextBlock x:Name="TotalStudentsBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#00d4ff"/>
           </StackPanel>
            </Border>

    <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
           <StackPanel VerticalAlignment="Center">
              <TextBlock Text="Total Quizzes" FontSize="14" Foreground="#888888"/>
    <TextBlock x:Name="TotalQuizzesBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#28a745"/>
           </StackPanel>
                </Border>
            </StackPanel>

          <!-- Tabs/Sections -->
  <TabControl Background="#2d2d44" Foreground="White" Height="450">
          <!-- Student Management Tab -->
         <TabItem Header="👥 Student Management" Padding="15">
    <StackPanel Orientation="Vertical" Margin="10">
 <TextBlock Text="Manage Student Accounts" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>
       
       <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
       <TextBlock Text="Search:" Foreground="White" VerticalAlignment="Center" Margin="0,0,10,0"/>
        <TextBox x:Name="StudentSearchBox" Width="300" Height="30" Background="#1a1a2e" Foreground="White" Padding="5" TextChanged="StudentSearchBox_TextChanged"/>
       </StackPanel>

       <DataGrid x:Name="StudentsDataGrid" Background="#1a1a2e" Foreground="White" BorderBrush="#555555" 
              BorderThickness="1" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" Height="300">
      <DataGrid.Columns>
         <DataGridTextColumn Header="Name" Binding="{Binding FirstName}" Width="150"/>
            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="200"/>
       <DataGridTextColumn Header="Status" Binding="{Binding IsApproved, Converter={StaticResource ApprovedConverter}}" Width="100"/>
      <DataGridTextColumn Header="Last Login" Binding="{Binding LastLoginDate, StringFormat='dd MMM yyyy'}" Width="150"/>
         </DataGrid.Columns>
    </DataGrid>

 <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
      <Button Content="✓ Approve Selected" Click="ApproveButton_Click" Width="120" Height="35" Background="#28a745" Foreground="White" Cursor="Hand" Margin="5"/>
       <Button Content="✗ Disable Selected" Click="DisableButton_Click" Width="120" Height="35" Background="#dc3545" Foreground="White" Cursor="Hand" Margin="5"/>
           </StackPanel>
   </StackPanel>
                </TabItem>

      <!-- Quiz Management Tab -->
 <TabItem Header="📝 Quiz Management" Padding="15">
          <StackPanel Orientation="Vertical" Margin="10">
    <TextBlock Text="Manage Quizzes" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>
  
       <Button Content="➕ Create New Quiz" Click="CreateQuizButton_Click" Width="150" Height="35" Background="#8b3dff" Foreground="White" Cursor="Hand" Margin="0,0,0,10"/>

         <DataGrid x:Name="QuizzesDataGrid" Background="#1a1a2e" Foreground="White" BorderBrush="#555555" 
   BorderThickness="1" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" Height="300">
             <DataGrid.Columns>
       <DataGridTextColumn Header="Quiz Title" Binding="{Binding Title}" Width="250"/>
         <DataGridTextColumn Header="Subject" Binding="{Binding Subject.Name}" Width="150"/>
        <DataGridTextColumn Header="Questions" Binding="{Binding TotalQuestions}" Width="100"/>
  <DataGridTextColumn Header="Created" Binding="{Binding CreatedDate, StringFormat='dd MMM yyyy'}" Width="150"/>
     </DataGrid.Columns>
      </DataGrid>

             <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
              <Button Content="✎ Edit Selected" Click="EditQuizButton_Click" Width="120" Height="35" Background="#00d4ff" Foreground="White" Cursor="Hand" Margin="5"/>
           <Button Content="🗑 Delete Selected" Click="DeleteQuizButton_Click" Width="120" Height="35" Background="#dc3545" Foreground="White" Cursor="Hand" Margin="5"/>
            </StackPanel>
        </StackPanel>
    </TabItem>

<!-- Analytics Tab -->
        <TabItem Header="📊 Analytics" Padding="15">
      <StackPanel Orientation="Vertical" Margin="10">
 <TextBlock Text="Student Performance Overview" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>
            <TextBlock Text="Analytics dashboard coming soon..." FontSize="14" Foreground="#888888"/>
       </StackPanel>
                </TabItem>
         </TabControl>

            <!-- Logout Button -->
      <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
    <Button Content="Logout" Click="Logout_Click" Width="120" Height="40" Background="#dc3545" Foreground="White" FontSize="14" Cursor="Hand" Margin="10"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
