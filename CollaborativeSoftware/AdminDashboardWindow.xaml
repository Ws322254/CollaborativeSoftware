<Window x:Class="CollaborativeSoftware.AdminDashboardWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
     xmlns:conv="clr-namespace:CollaborativeSoftware.Converters"
     Title="Quizelyangs - Admin Dashboard" Height="900" Width="1200"
WindowStartupLocation="CenterScreen"
 Background="#1a1a2e"
 Loaded="Window_Loaded">
 <Window.Resources>
     <conv:ActiveConverter x:Key="ActiveConverter" />
     <Style x:Key="DataGridTextColumnStyle" TargetType="TextBlock">
         <Setter Property="Foreground" Value="White"/>
         <Setter Property="Padding" Value="5"/>
         <Setter Property="VerticalAlignment" Value="Center"/>
     </Style>
        
     <!-- Danger Button Style -->
     <Style x:Key="DangerButton" TargetType="Button">
         <Setter Property="Background" Value="#dc3545"/>
         <Setter Property="Foreground" Value="White"/>
         <Setter Property="BorderThickness" Value="0"/>
         <Setter Property="FontSize" Value="13"/>
         <Setter Property="FontWeight" Value="SemiBold"/>
         <Setter Property="Cursor" Value="Hand"/>
         <Setter Property="Padding" Value="15,10"/>
         <Setter Property="Template">
             <Setter.Value>
                 <ControlTemplate TargetType="Button">
                     <Border Background="{TemplateBinding Background}" CornerRadius="5" Padding="{TemplateBinding Padding}">
                         <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                     </Border>
                     <ControlTemplate.Triggers>
                         <Trigger Property="IsMouseOver" Value="True">
                             <Setter Property="Background" Value="#e4606d"/>
                         </Trigger>
                         <Trigger Property="IsPressed" Value="True">
                             <Setter Property="Background" Value="#bb2d3b"/>
                         </Trigger>
                     </ControlTemplate.Triggers>
                 </ControlTemplate>
             </Setter.Value>
         </Setter>
     </Style>
 </Window.Resources>
 <Grid>
     <Grid.ColumnDefinitions>
         <ColumnDefinition Width="*"/>
     </Grid.ColumnDefinitions>
     <Grid.RowDefinitions>
         <RowDefinition Height="*"/>
         <RowDefinition Height="Auto"/>
     </Grid.RowDefinitions>
        
     <StackPanel Grid.Row="0" Orientation="Vertical" Margin="20">
       <TextBlock Text="⚙️ Admin Dashboard" FontSize="36" FontWeight="Bold" Foreground="#8b3dff" Margin="0,0,0,20"/>

   <!-- Statistics Row -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
                <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
       <StackPanel VerticalAlignment="Center">
          <TextBlock Text="Total Subjects" FontSize="14" Foreground="#888888"/>
       <TextBlock x:Name="TotalSubjectsBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#8b3dff"/>
           </StackPanel>
           </Border>

        <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
        <StackPanel VerticalAlignment="Center">
            <TextBlock Text="Total Lecturers" FontSize="14" Foreground="#888888"/>
         <TextBlock x:Name="TotalLecturersBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#00d4ff"/>
    </StackPanel>
      </Border>

       <Border Width="220" Height="100" Background="#2d2d44" CornerRadius="10" Margin="10" Padding="20">
         <StackPanel VerticalAlignment="Center">
 <TextBlock Text="Total Users" FontSize="14" Foreground="#888888"/>
  <TextBlock x:Name="TotalUsersBlock" Text="0" FontSize="28" FontWeight="Bold" Foreground="#28a745"/>
         </StackPanel>
         </Border>
            </StackPanel>

        <!-- Tabs/Sections -->
      <TabControl Background="#2d2d44" Foreground="White">
     <!-- Subject Management Tab -->
            <TabItem Header="📚 Subject Management" Padding="15">
               <StackPanel Orientation="Vertical" Margin="10">
      <TextBlock Text="Manage Quiz Subjects" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>

      <Button Content="➕ Create New Subject" Click="CreateSubjectButton_Click" Width="150" Height="35" Background="#8b3dff" Foreground="White" Cursor="Hand" Margin="0,0,0,10"/>

     <DataGrid x:Name="SubjectsDataGrid" Background="#1a1a2e" Foreground="White" BorderBrush="#555555" 
         BorderThickness="1" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" Height="280"
         RowBackground="#2d2d44" AlternatingRowBackground="#252538" HeadersVisibility="Column">
         <DataGrid.Columns>
             <DataGridTextColumn Header="Subject Name" Binding="{Binding SubjectName}" Width="*" 
                 ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
             <DataGridTextColumn Header="Status" Binding="{Binding IsActive, Converter={StaticResource ActiveConverter}}" Width="120"
                 ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
       </DataGrid.Columns>
   </DataGrid>

 <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
       <Button Content="✎ Edit Selected" Click="EditSubjectButton_Click" Width="120" Height="35" Background="#00d4ff" Foreground="White" Cursor="Hand" Margin="5"/>
    <Button Content="⚡ Toggle Active" Click="ToggleSubjectButton_Click" Width="120" Height="35" Background="#ffc107" Foreground="White" Cursor="Hand" Margin="5"/>
    </StackPanel>
    </ScrollViewer>
         </StackPanel>
     </TabItem>

        <!-- Lecturer Management Tab -->
      <TabItem Header="👨‍💼 Lecturer Management" Padding="15">
<StackPanel Orientation="Vertical" Margin="10">
          <TextBlock Text="Manage Lecturer Accounts" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>

           <Button Content="➕ Create New Lecturer" Click="CreateLecturerButton_Click" Width="150" Height="35" Background="#8b3dff" Foreground="White" Cursor="Hand" Margin="0,0,0,10"/>

          <DataGrid x:Name="LecturersDataGrid" Background="#1a1a2e" Foreground="White" BorderBrush="#555555" 
 BorderThickness="1" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" Height="280"
 RowBackground="#2d2d44" AlternatingRowBackground="#252538" HeadersVisibility="Column">
                    <DataGrid.Columns>
          <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}" Width="150"
              ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
          <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}" Width="150"
              ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
         <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*"
              ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
         <DataGridTextColumn Header="Status" Binding="{Binding IsActive, Converter={StaticResource ActiveConverter}}" Width="100"
              ElementStyle="{StaticResource DataGridTextColumnStyle}"/>
        </DataGrid.Columns>
           </DataGrid>

 <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
     <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
          <Button Content="✎ Edit Selected" Click="EditLecturerButton_Click" Width="120" Height="35" Background="#00d4ff" Foreground="White" Cursor="Hand" Margin="5"/>
          <Button Content="🔑 Reset Password" Click="ResetPasswordButton_Click" Width="130" Height="35" Background="#ffc107" Foreground="White" Cursor="Hand" Margin="5"/>
          <Button Content="⛔ Disable" Click="DisableLecturerButton_Click" Width="80" Height="35" Background="#dc3545" Foreground="White" Cursor="Hand" Margin="5"/>
          <Button Content="🗑️ Delete" Click="DeleteLecturerButton_Click" Width="80" Height="35" Background="#900000" Foreground="White" Cursor="Hand" Margin="5"/>
     </StackPanel>
     </ScrollViewer>
        </StackPanel>
            </TabItem>

   <!-- System Settings Tab -->
         <TabItem Header="⚙️ System Settings" Padding="15">
    <StackPanel Orientation="Vertical" Margin="10">
             <TextBlock Text="System Configuration" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,15"/>
       
                <StackPanel Orientation="Vertical" Margin="0,0,0,20">
              <TextBlock Text="Passing Score Threshold: " Foreground="White" FontSize="14" Margin="0,0,0,5"/>
       <Slider x:Name="PassingScoreSlider" Width="300" Minimum="0" Maximum="100" Value="70" TickFrequency="5" IsSnapToTickEnabled="True"/>
         <TextBlock x:Name="PassingScoreValueBlock" Text="70%" Foreground="#00d4ff" FontSize="14"/>
             </StackPanel>

          <StackPanel Orientation="Vertical" Margin="0,0,0,20">
       <TextBlock Text="Default Quiz Questions: " Foreground="White" FontSize="14" Margin="0,0,0,5"/>
                <Slider x:Name="DefaultQuestionsSlider" Width="300" Minimum="5" Maximum="50" Value="10" TickFrequency="5" IsSnapToTickEnabled="True"/>
     <TextBlock x:Name="DefaultQuestionsValueBlock" Text="10" Foreground="#00d4ff" FontSize="14"/>
            </StackPanel>

           <Button Content="💾 Save Settings" Click="SaveSettingsButton_Click" Width="120" Height="35" Background="#28a745" Foreground="White" Cursor="Hand" Margin="0,10,0,0"/>
           </StackPanel>
 </TabItem>
          </TabControl>
        </StackPanel>

        <!-- Logout Button Section -->
        <Border Grid.Row="1" Background="#0f0f1e" BorderBrush="#2d2d44" BorderThickness="0,1,0,0" Padding="20" Margin="0,10,0,0">
            <Button Click="Logout_Click" Style="{StaticResource DangerButton}" Height="45">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Exit" FontSize="14" Margin="0,0,10,0" FontWeight="Bold"/>
                    <TextBlock Text="Logout" VerticalAlignment="Center" FontSize="14"/>
                </StackPanel>
            </Button>
        </Border>
    </Grid>
</Window>
