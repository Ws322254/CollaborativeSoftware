<Window x:Class="WpfApp2.EditTestWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Edit Test" Height="450" Width="600"
        WindowStartupLocation="CenterOwner"
        Background="#1a1a2e"
        ResizeMode="NoResize">

    <Window.Resources>
     <!-- TextBox Style -->
        <Style x:Key="FormTextBox" TargetType="TextBox">
  <Setter Property="Background" Value="#2d2d44"/>
      <Setter Property="Foreground" Value="White"/>
    <Setter Property="BorderBrush" Value="#3d3d54"/>
  <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Padding" Value="12,10"/>
<Setter Property="FontSize" Value="14"/>
<Setter Property="CaretBrush" Value="White"/>
   </Style>

   <!-- Dark ComboBox Template -->
        <ControlTemplate x:Key="DarkComboBoxTemplate" TargetType="ComboBox">
         <Grid>
   <Border x:Name="Border" Background="#2d2d44" BorderBrush="#3d3d54" BorderThickness="1" CornerRadius="5"/>
        <TextBlock Margin="15,0,40,0"
     VerticalAlignment="Center"
         Foreground="White"
  FontSize="14"
        Text="{TemplateBinding Text}"/>
     <Path Data="M0,0 L5,5 L10,0" 
       Fill="#888888" 
      HorizontalAlignment="Right"
      VerticalAlignment="Center"
        Margin="0,0,15,0"/>
        <ToggleButton IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
       Background="Transparent"
    BorderThickness="0"
    Focusable="False"
     ClickMode="Press">
          <ToggleButton.Template>
      <ControlTemplate TargetType="ToggleButton">
     <Border Background="Transparent"/>
      </ControlTemplate>
      </ToggleButton.Template>
   </ToggleButton>
  <Popup IsOpen="{TemplateBinding IsDropDownOpen}" 
   Placement="Bottom"
   PopupAnimation="Slide"
        AllowsTransparency="True"
  Width="{Binding ActualWidth, RelativeSource={RelativeSource TemplatedParent}}">
     <Border Background="#2d2d44" 
     BorderBrush="#3d3d54" 
   BorderThickness="1" 
 CornerRadius="5"
      Margin="0,2,0,0">
       <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
       <ItemsPresenter/>
        </ScrollViewer>
     </Border>
      </Popup>
            </Grid>
            <ControlTemplate.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
<Setter TargetName="Border" Property="BorderBrush" Value="#8b3dff"/>
     </Trigger>
   </ControlTemplate.Triggers>
        </ControlTemplate>

   <!-- ComboBoxItem Style -->
        <Style TargetType="ComboBoxItem">
    <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="Padding" Value="12,10"/>
   <Setter Property="FontSize" Value="14"/>
<Setter Property="Cursor" Value="Hand"/>
       <Setter Property="Template">
     <Setter.Value>
     <ControlTemplate TargetType="ComboBoxItem">
   <Border x:Name="Border" 
     Background="{TemplateBinding Background}" 
      Padding="{TemplateBinding Padding}"
CornerRadius="3">
      <ContentPresenter/>
  </Border>
    <ControlTemplate.Triggers>
     <Trigger Property="IsMouseOver" Value="True">
         <Setter TargetName="Border" Property="Background" Value="#3d3d54"/>
    </Trigger>
        <Trigger Property="IsSelected" Value="True">
   <Setter TargetName="Border" Property="Background" Value="#8b3dff"/>
       </Trigger>
 </ControlTemplate.Triggers>
  </ControlTemplate>
      </Setter.Value>
     </Setter>
        </Style>

  <!-- ComboBox Style -->
        <Style x:Key="FormComboBox" TargetType="ComboBox">
  <Setter Property="Background" Value="#2d2d44"/>
   <Setter Property="Foreground" Value="White"/>
    <Setter Property="BorderBrush" Value="#3d3d54"/>
       <Setter Property="BorderThickness" Value="1"/>
  <Setter Property="FontSize" Value="14"/>
      <Setter Property="Template" Value="{StaticResource DarkComboBoxTemplate}"/>
     </Style>

        <!-- Button Style -->
        <Style x:Key="ActionButton" TargetType="Button">
    <Setter Property="Background" Value="#8b3dff"/>
     <Setter Property="Foreground" Value="White"/>
         <Setter Property="BorderThickness" Value="0"/>
  <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
   <Setter Property="Cursor" Value="Hand"/>
     <Setter Property="Padding" Value="20,12"/>
 <Setter Property="Template">
     <Setter.Value>
          <ControlTemplate TargetType="Button">
<Border Background="{TemplateBinding Background}" CornerRadius="5" Padding="{TemplateBinding Padding}">
  <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
 </Border>
    <ControlTemplate.Triggers>
    <Trigger Property="IsMouseOver" Value="True">
     <Setter Property="Background" Value="#9b4dff"/>
   </Trigger>
    </ControlTemplate.Triggers>
      </ControlTemplate>
   </Setter.Value>
      </Setter>
   </Style>

        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ActionButton}">
        <Setter Property="Background" Value="#28a745"/>
     <Style.Triggers>
       <Trigger Property="IsMouseOver" Value="True">
 <Setter Property="Background" Value="#34ce57"/>
 </Trigger>
        </Style.Triggers>
        </Style>

        <Style x:Key="CancelButton" TargetType="Button" BasedOn="{StaticResource ActionButton}">
     <Setter Property="Background" Value="#4d4d6d"/>
       <Style.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
  <Setter Property="Background" Value="#5d5d7d"/>
          </Trigger>
       </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Margin="30">
     <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
   <RowDefinition Height="*"/>
  <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,25">
  <TextBlock Text="Edit Test" FontSize="24" FontWeight="Bold" Foreground="White"/>
   <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
  <TextBlock Text="Test ID: " FontSize="14" Foreground="#888888"/>
      <TextBlock x:Name="TestIdText" Text="" FontSize="14" Foreground="#8b3dff" FontWeight="Bold"/>
 </StackPanel>
  </StackPanel>

        <!-- Form -->
        <StackPanel Grid.Row="1">
       <!-- Test Name -->
  <TextBlock Text="Test Name *" FontSize="13" Foreground="#b0b0c8" Margin="0,0,0,8"/>
            <TextBox x:Name="TestNameTextBox" Style="{StaticResource FormTextBox}" 
          MaxLength="100" Margin="0,0,0,20"/>

 <!-- Subject Selection -->
     <TextBlock Text="Subject *" FontSize="13" Foreground="#b0b0c8" Margin="0,0,0,8"/>
  <ComboBox x:Name="SubjectComboBox" Style="{StaticResource FormComboBox}" 
        Height="45" Margin="0,0,0,20"
      DisplayMemberPath="SubjectName"
      SelectionChanged="SubjectComboBox_SelectionChanged"/>

   <!-- Number of Questions -->
   <TextBlock Text="Number of Questions *" FontSize="13" Foreground="#b0b0c8" Margin="0,0,0,8"/>
    <Grid Margin="0,0,0,20">
           <Grid.ColumnDefinitions>
       <ColumnDefinition Width="*"/>
     <ColumnDefinition Width="Auto"/>
       </Grid.ColumnDefinitions>
       <Slider x:Name="NumQuestionsSlider" Grid.Column="0" 
           Minimum="5" Maximum="50" Value="10" 
     IsSnapToTickEnabled="True" TickFrequency="5"
   VerticalAlignment="Center"/>
     <TextBlock x:Name="NumQuestionsDisplay" Grid.Column="1" 
         Text="10 questions" FontSize="14" Foreground="White" 
    VerticalAlignment="Center" Margin="15,0,0,0" Width="100"/>
 </Grid>

   <!-- Available Questions Info -->
 <Border Background="#1a1a2e" CornerRadius="5" Padding="10" Margin="0,10,0,0">
       <StackPanel Orientation="Horizontal">
     <TextBlock Text="Available questions for selected subject: " FontSize="13" Foreground="#888888"/>
       <TextBlock x:Name="AvailableQuestionsCount" Text="0" FontSize="13" FontWeight="Bold" Foreground="#8b3dff"/>
        </StackPanel>
      </Border>
        </StackPanel>

    <!-- Buttons -->
    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,25,0,0">
    <Button Content="Cancel" Style="{StaticResource CancelButton}" 
    Click="CancelButton_Click" Width="120" Margin="0,0,15,0"/>
       <Button Content="Save Changes" Style="{StaticResource SuccessButton}" 
       Click="SaveButton_Click" Width="150"/>
   </StackPanel>
    </Grid>
</Window>
